@mixin codegalaxy-theme($theme) {
  $bg-dark: #1a1a1a;
  $bg-main: #252525;
  $bg-light: #323232;
  $text-primary: #dddddd;
  $text-secondary: #b0b0b0;
  $border-color: #363636;

  @if $theme == 'light' {
    $bg-dark: #ffffff;
    $bg-main: #f0f0f0;
    $bg-light: #e0e0e0;
    $text-primary: #333333;
    $text-secondary: #b0b0b0;
    $border-color: #979797;
  }

  $font-size-large: 24px;
  $border-radius: 8;
  $tab-size: 4;
  $error-color: #ff4444;
  $warning-color: #ffaa00;
  $info-color: #4444ff;

  .styled-text-area {
    -fx-font-size: $font-size-large;
    -fx-background-color: $bg-dark;

    .caret {
      -fx-stroke: $text-primary;
    }
  }

  .main-selection {
    -fx-fill: $text-secondary;
  }

  .line-highlighter {
    -fx-fill: $bg-light;
  }

  .line-number-text {
    -fx-fill: $text-primary;
  }

  .line-number-box {
    -fx-background-color: $bg-dark;
    -fx-border-color: $border-color;
    -fx-border-width: 0 1 0 0;
  }

  .text-flow {
    .text {
      -fx-fill: $text-primary;
    }
  }

  .error-line-number {
    -fx-background-color: $bg-main;
  }

  .error-indicator {
    -fx-background-radius: $border-radius;
    -fx-border-radius: $border-radius;

    &.error {
      -fx-background-color: $error-color;
    }

    &.warning {
      -fx-background-color: $warning-color;
    }

    &.info {
      -fx-background-color: $info-color;
    }
  }

  .paragraph-text {
    -fx-tab-size: $tab-size;
  }
}